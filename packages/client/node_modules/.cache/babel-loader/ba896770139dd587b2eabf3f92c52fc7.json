{"ast":null,"code":"import _classCallCheck from \"/Users/jean/dev/blackout/packages/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/jean/dev/blackout/packages/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/jean/dev/blackout/packages/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/jean/dev/blackout/packages/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/jean/dev/blackout/packages/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/jean/dev/blackout/packages/client/src/components/desktop/DesktopApp.js\";\nimport React, { Component } from 'react'; // import logo from './logo.svg'\n\nimport './DesktopApp.scss';\nimport io from 'socket.io-client';\nvar socket = io.connect(\"http://localhost:8888\");\n\nvar DesktopApp =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(DesktopApp, _Component);\n\n  function DesktopApp(props) {\n    var _this;\n\n    _classCallCheck(this, DesktopApp);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(DesktopApp).call(this, props));\n\n    _this.sendDeviceType = function () {\n      console.log('desktop type');\n      socket.emit('deviceType', {\n        type: 'desktop'\n      });\n    };\n\n    _this.getCode = function () {\n      socket.on('setCode', function (data) {\n        _this.setState({\n          code1: data.code1\n        });\n\n        _this.setState({\n          code2: data.code2\n        });\n      });\n    };\n\n    _this.getConnectedUser = function () {\n      socket.on('connectToRoom', function (data) {\n        console.log(data);\n        var player = data.userId;\n        if (player === 'player1') _this.setState({\n          player1: true\n        });\n        if (player === 'player2') _this.setState({\n          player2: true\n        });\n      });\n    };\n\n    _this.getDisconnectedUser = function () {\n      socket.on('disconnectToRoom', function (data) {\n        console.log(data);\n        var player = data.userId;\n        if (player === 'player1') _this.setState({\n          player1: false\n        });\n        if (player === 'player2') _this.setState({\n          player2: false\n        });\n      });\n    };\n\n    _this.state = {\n      code1: null,\n      code2: null,\n      player1: false,\n      player2: false\n    };\n    return _this;\n  }\n\n  _createClass(DesktopApp, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      console.log('prout du desktop');\n      this.sendDeviceType();\n      this.getCode();\n      this.getConnectedUser();\n      this.getDisconnectedUser();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          code1 = _this$state.code1,\n          code2 = _this$state.code2,\n          player1 = _this$state.player1,\n          player2 = _this$state.player2;\n      var succeed = player1 ? 'succed' : ' ';\n      var succeed2 = player2 ? 'succed' : ' ';\n      return React.createElement(\"div\", {\n        className: \"App desktop-app\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(\"header\", {\n        className: \"App-header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, \"Desktop\"), React.createElement(\"p\", {\n        className: succeed,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, \"code 1 : \", code1), React.createElement(\"p\", {\n        className: succeed2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, \"code 2 : \", code2)));\n    }\n  }]);\n\n  return DesktopApp;\n}(Component);\n\nexport default DesktopApp;","map":{"version":3,"sources":["/Users/jean/dev/blackout/packages/client/src/components/desktop/DesktopApp.js"],"names":["React","Component","io","socket","connect","DesktopApp","props","sendDeviceType","console","log","emit","type","getCode","on","data","setState","code1","code2","getConnectedUser","player","userId","player1","player2","getDisconnectedUser","state","succeed","succeed2"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\n// import logo from './logo.svg'\nimport './DesktopApp.scss'\nimport io from 'socket.io-client'\nconst socket = io.connect(\"http://localhost:8888\")\n\n\nclass DesktopApp extends Component {\n  constructor (props) {\n    super(props)\n\n    this.state = {\n        code1: null,\n        code2: null,\n        player1: false,\n        player2: false,\n    }\n  }\n\n  componentWillMount() {\n    console.log('prout du desktop')\n    this.sendDeviceType()\n    this.getCode()\n    this.getConnectedUser()\n    this.getDisconnectedUser()\n  }\n\n  sendDeviceType = () => {\n    console.log('desktop type')  \n    socket.emit('deviceType', {\n        type:'desktop'\n    })\n  }\n\n  getCode = () => {\n    socket.on('setCode',(data) => {\n      this.setState({code1 : data.code1})\n      this.setState({code2 : data.code2})\n    })\n  }\n  getConnectedUser = () => {\n    socket.on('connectToRoom', (data) => {\n      console.log(data)\n      let player = data.userId\n      if (player === 'player1') this.setState({player1: true})\n      if (player === 'player2') this.setState({player2: true})\n    })\n  }\n\n  getDisconnectedUser = () => {\n    socket.on('disconnectToRoom', (data) => {\n      console.log(data)\n      let player = data.userId\n      if (player === 'player1') this.setState({player1: false})\n      if (player === 'player2') this.setState({player2: false})\n    })\n  }\n  render() {\n    const { code1, code2, player1, player2 } = this.state\n    const succeed = player1 ? 'succed' : ' '\n    const succeed2 = player2 ? 'succed' : ' '\n\n    return (\n      <div className=\"App desktop-app\">\n        <header className=\"App-header\">\n          {/* <img src={logo} className=\"App-logo\" alt=\"logo\" /> */}\n          <p>\n            Desktop\n          </p>\n          <p className={succeed}>\n            code 1 : {code1}\n          </p>\n          <p className={succeed2}>\n            code 2 : {code2}\n          </p>\n        </header>\n      </div>\n    )\n  }\n}\n\nexport default DesktopApp\n\n"]},"metadata":{},"sourceType":"module"}